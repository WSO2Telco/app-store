<div fxLayout="column" fxLayoutGap="20px">

  <div class="intro-container">
    <h1 class="animated fadeInDown">{{ appData == null ? 'Create' : 'Update' }} Application</h1>
    <div class="intro-text animated fadeIn">
      <p>Applications allow you to use a single access token to invoke a collection of APIs and to subscribe to one API
        multiple times with different SLA levels.</p>
    </div>
  </div>

  <mat-card class="info-table animated fadeInDown" fxFlex="">
    <mat-card-content>
      <form fxLayout="column" fxLayoutGap="20px" fxLayoutWrap class="sub-form" #formDirective="ngForm" novalidate
        [formGroup]="formCreateApp" (ngSubmit)="onSubmit(formCreateApp,formDirective)">

        <div class="add-app-container" fxLayout="column">
          <mat-form-field>
            <input matInput formControlName="appName" placeholder="Application Name">
            <mat-error *ngIf="formCreateApp.hasError('required', 'appName')">Application name is required</mat-error>
            <mat-error *ngIf="formCreateApp.hasError('maxlength', 'appName')">Only 70 characters are allowed</mat-error>
            <mat-error *ngIf="formCreateApp.hasError('pattern', 'appName')">The App Name contains one or more illigale
              characters(!"#$%&'()*+,-./:;&lt;=>?@[]^_`&#123;|&#125;~) </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-select formControlName="appTokenType" placeholder="Token Type">
              <mat-option *ngFor="let tokenType of tokenTypes" [value]="tokenType">
                {{ tokenType }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="formCreateApp.hasError('required', 'appTokenType')">Token Type is required</mat-error>
          </mat-form-field>

          <mat-form-field>
            <textarea rows="5" matInput formControlName="appDescription" placeholder="Description"></textarea>
            <mat-error *ngIf="formCreateApp.hasError('maxlength', 'appDescription')">Only 500 characters are allowed</mat-error>
          </mat-form-field>

          <div fxFlex="100%" fxLayoutGap="10px">
            <button mat-raised-button type="button" [routerLink]="['/applications']" color="red">Cancel</button>
            <button mat-raised-button type="submit" color="accent">{{ appData == null ? 'Create' : 'Update' }}</button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

</div>